# IQoptionTest
Используемые средства: NodeJs(v6), Postgresql, Redis

Система должна состоять из 2-х компонентов.

Первый компонент(Worker) должен раз в сутки парсить страницу топ 250 фильмов(Кинопоиск) и сохранять в базу Postgresql.

Второй компонент(Api) должен предоставлять(авторизованным пользователям) доступ к данным.

Страница топ 250 фильмов: https://www.kinopoisk.ru/top/

Необходимые поля: id(кинопоиск), имя, рейтинг, жанр

Описание Api:

- авторизация(login)

- снятие авторизация(logout)

- получение списка фильмов с постраничным выводом, фильтром по жанру,поиском по имени и сортировку по рейтинг

- статистика по фильмам в разрезе времени(год выпуска) с группировкой по рейтингу(средняя) фильтром от года до года

- статистика по фильмам в разрезе жанр с группировкой количеству с фильтром по жанру

- статистика по фильмам в разрезе жанр с группировкой по рейтингу(средняя) с фильтром по жанру




Инструкции

localhost:5000/api/register - создание пользователя                                                           
localhost:5000/api/login - логин, возвращает token, который используется во всех остальных методах как параметр header Authorization


Примеры запросов:

localhost:5000/api/getMovies?name=по&genre=боевик&sorting=asc
localhost:5000/api/getMovies
localhost:5000/api/getYears?startYear=1980&endYear=1995
localhost:5000/api/getGenresCount?genre=ия
localhost:5000/api/getGenresRating?genre=ия
